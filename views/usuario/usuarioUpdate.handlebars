<div class="container mt-4">
  <h2 class="mb-4">Editar Usuário: {{usuario.nome}} {{usuario.sobrenome}}</h2>

  {{#if error}}
    <div class="alert alert-danger">{{error}}</div>
  {{/if}}

  <form action="/usuarioUpdate" method="POST">
    
    <input type="hidden" name="id" value="{{usuario.id}}">

     <div class="form-row">
      <div class="form-group col-md-6">
        <label for="nome">Nome</label>
        <input type="text" class="form-control" id="nome" name="nome" value="{{usuario.nome}}" required>
      </div>
      <div class="form-group col-md-6">
        <label for="sobrenome">Sobrenome</label>
        <input type="text" class="form-control" id="sobrenome" name="sobrenome" value="{{usuario.sobrenome}}" required>
      </div>
    </div>

     <div class="form-group">
      <label for="email">Email</label>
      <input type="email" class="form-control" id="email" name="email" 
      value="{{usuario.email}}" required>
    </div>

    <div class="form-row">
      <div class="form-group col-md-4">
        <label for="idade">Idade</label>
        <input type="number" class="form-control" id="idade" name="idade" 
        value="{{usuario.idade}}"  required min="0" max="120">
      </div>
      <div class="form-group col-md-4">
        <label for="sexo">Sexo</label>
        <select class="form-control" id="sexo" name="sexo">
          <option value="Masculino" {{#if (eq usuario.sexo 'Masculino')}}selected{{/if}}>Masculino</option>
          <option value="Feminino" {{#if (eq usuario.sexo 'Feminino')}}selected{{/if}}>Feminino</option>
          <option value="Outro" {{#if (eq usuario.sexo 'Outro')}}selected{{/if}}>Outro</option>
        </select>
      </div>
      <div class="form-group col-md-4">
        <label for="telefone">Telefone</label>
        <input type="tel" class="form-control" id="telefone" name="telefone" value="{{usuario.telefone}}">
      </div>
    </div>

     <div class="form-row">
      <div class="form-group col-md-6">
        <label for="cidade">Cidade</label>
        <input type="text" class="form-control" id="cidade" name="cidade" value="{{usuario.cidade}}" required>
      </div>
      <div class="form-group col-md-3">
        <label for="estado">Estado (UF)</label>
        <input type="text" class="form-control" id="estado" name="estado" value="{{usuario.estado}}" required maxlength="2">
      </div>
       <div class="form-group col-md-3">
        <label for="nacionalidade">Nacionalidade</label>
        <input type="text" class="form-control" id="nacionalidade" name="nacionalidade" value="{{usuario.nacionalidade}}" required>
      </div>
    </div>


     <hr>
    <h4 class="mt-4">Credenciais e Permissões</h4>

    <div class="form-row">
        <div class="form-group col-md-6">
            <label for="login">Login</label>
            <input type="text" class="form-control" id="login" name="login" value="{{usuario.login}}" required>
        </div>
        <div class="form-group col-md-6">
            <label for="senha">Nova Senha (deixe em branco para não alterar)</label>
            <input type="password" class="form-control" id="senha" name="senha" placeholder="********">
        </div>
    </div>

    <div class="form-group">
      <label for="tipo">Tipo de Usuário</label>
      <select class="form-control" id="tipo" name="tipo" required>
        <option value="ADMIN" {{#if (eq usuario.tipo 'ADMIN')}}selected{{/if}}>Administrador</option>
        <option value="BIBLIOTECARIO" {{#if (eq usuario.tipo 'BIBLIOTECARIO')}}selected{{/if}}>Bibliotecário</option>
        <option value="LEITOR" {{#if (eq usuario.tipo 'LEITOR')}}selected{{/if}}>Leitor</option>
      </select>
    </div>

    <button type="submit" class="btn btn-primary mt-3">Salvar Alterações</button>
    <a href="/usuarioList" class="btn btn-secondary mt-3">Cancelar</a>
  </form>
</div>