
<div class="container" style="max-width: 600px; margin-top: 40px;">
  <div class="card shadow">
    <div class="card-body">
      <h2 class="card-title text-center mb-4">Cadastrar Usu치rio</h2>

      {{#if error}}
        <div class="alert alert-danger">{{error}}</div>
      {{/if}}
      {{#if message}}
        <div class="alert alert-success">{{message}}</div>
      {{/if}}

      <form action="/usuarioCreate" method="post">
        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="nome">Nome</label>
            <input type="text" class="form-control" name="nome" id="nome" placeholder="Digite seu nome" required>
          </div>
          <div class="form-group col-md-6">
            <label for="sobrenome">Sobrenome</label>
            <input type="text" class="form-control" name="sobrenome" id="sobrenome" placeholder="Digite seu sobrenome" required>
          </div>
        </div>
        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" class="form-control" name="email" id="email" placeholder="Digite seu email" required>
        </div>
        <div class="form-row">
          <div class="form-group col-md-4">
            <label for="idade">Idade</label>
            <input type="number" class="form-control" name="idade" id="idade" min="0" max="120" required>
          </div>
          <div class="form-group col-md-4">
            <label for="sexo">Sexo</label>
            <select class="form-control" name="sexo" id="sexo" required>
              <option value="">Selecione</option>
              <option value="Masculino">Masculino</option>
              <option value="Feminino">Feminino</option>
              <option value="Outro">Outro</option>
            </select>
          </div>
          <div class="form-group col-md-4">
            <label for="telefone">Telefone</label>
            <input type="tel" class="form-control" name="telefone" id="telefone" placeholder="Digite seu telefone" required>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="cidade">Cidade</label>
            <input type="text" class="form-control" name="cidade" id="cidade" placeholder="Digite sua cidade" required>
          </div>
          <div class="form-group col-md-6">
            <label for="estado">Estado</label>
            <input type="text" class="form-control" name="estado" id="estado" placeholder="Digite seu estado" required>
          </div>
        </div>
        <div class="form-group">
          <label for="nacionalidade">Nacionalidade</label>
          <input type="text" class="form-control" name="nacionalidade" id="nacionalidade" placeholder="Digite sua nacionalidade" required>
        </div>
        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="login">Login</label>
            <input type="text" class="form-control" name="login" id="login" placeholder="Digite seu login" required>
          </div>
          <div class="form-group col-md-6">
            <label for="senha">Senha</label>
            <input type="password" class="form-control" name="senha" id="senha" placeholder="Digite sua senha" required>
          </div>
        </div>
        <div class="form-group">
          <label for="tipoUsuario">Tipo de Usu치rio</label>
          <select class="form-control" name="tipo" id="tipoUsuario" required>
            <option value="3">Leitor</option>
            <option value="2">Bibliotec치rio</option>
            <option value="1">Administrador</option>
          </select>
        </div>
        <div id="credenciaisSuperior" style="display:none;">
          <h5>Credenciais do usu치rio superior</h5>
          <div class="form-row">
            <div class="form-group col-md-6">
              <input type="text" class="form-control" name="superior_login" placeholder="Login do superior">
            </div>
            <div class="form-group col-md-6">
              <input type="password" class="form-control" name="superior_senha" placeholder="Senha do superior" id="superior_senha">
            </div>
          </div>
        </div>
        <div class="form-group d-flex justify-content-between mt-4">
          <button type="submit" class="btn btn-success">Cadastrar</button>
          <a href="/login" class="btn btn-link">Fazer Login</a>
          <a href="/home" class="btn btn-secondary">Voltar</a>
        </div>
      </form>
    </div>
  </div>
</div>

<script>
  function toggleSuperior(){
    const tipo = document.getElementById('tipoUsuario').value;
    const credenciais = document.getElementById('credenciaisSuperior');
    const superiorSenha = document.getElementById('superior_senha');
    if (tipo == '1' || tipo == '2') {
      credenciais.style.display = 'block';
      superiorSenha.required = true;
    } else {
      credenciais.style.display = 'none';
      superiorSenha.required = false;
    }
  }
  document.getElementById('tipoUsuario').addEventListener('change', toggleSuperior);
  window.onload = toggleSuperior;
</script>
